\chapter{Implementação da infraestrutura}\label{implementação-da-infraestrutura}

\section{Ferramentas}\label{ferramentas}

%Motivações (custo) de deixar desacoplarar infraestrutura de software

Há vários serviços que facilitam o desenvolvimento em de aplicações, como banco de dados,
gateways de api, mensageria, etc. Porém, a utilização destes serviços podem
tornar o produto dependente da plataforma onde está rodando. Por isso, é recomendável
a utilização de meios que deixem desacoplados os produtos da plataforma com o produto
digital desenvolvido.

\input{docker}

\input{kubernetes}

\section{Requisitos da aplicação}\label{requisitos-da-aplicacao}

Todas as operações mencionadas consideram que o Sistema Operacional é Linux
- que apesar de não ser obrigatório, é recomendado.
Para gerenciamento do código fonte é utilizado o Git no servidor do Github.
Para compilar e rodar a aplicação é necessário ter instalado o Java 8.
Para gerenciamento de pacotes do Java é utilizado o Gradle 4, mas não
é obrigatório que ele esteja instalado - pois é feito o download, caso
ele não exista. Para subir a aplicação é necessário ter o Docker e o
Kubernetes (kubectl e minikube) instalados.

% git, java, gradle, docker, kubernetes

\section{Como rodar a aplicação}\label{como-rodar-a-aplicacao}

Para fazer o download do código fonte é necessário utilizar a ferramenta Git
e executar no terminal do Linux o seguinte mostrado no \autoref{comando-git}.

\lstset{language=bash,keywordstyle={\bfseries \color{black}}}

\begin{lstlisting}[language=bash,label=comando-git,caption=Como fazer o download do código fonte com o Git]
git clone https://github.com/andreformento/term-paper.git
\end{lstlisting}

Para construir a aplicação é necessário executar o comando
\autoref{construir-aplicacao}.

\begin{lstlisting}[language=bash,label=construir-aplicacao,caption=Como construir a aplicação]
cd term-paper
./build.sh
\end{lstlisting}

Para rodar a aplicação é necessário executar o comando
\autoref{rodar-aplicacao}.

\begin{lstlisting}[language=bash,label=rodar-aplicacao,caption=Como rodar a aplicação]
./start.sh
\end{lstlisting}

Para testar a performance da aplicação é necessário executar o comando
\autoref{testar-performance-aplicacao}.

\begin{lstlisting}[language=bash,label=testar-performance-aplicacao,caption=Como testar a performance da aplicação]
./test-report.sh
\end{lstlisting}



% lembrar que o conceito já foi explicado
% só deve ser informado como foram utilizadas as
% ferramentas
% uso do docker para subir a aplicação
% kubernetes para gerenciar o escalamento


